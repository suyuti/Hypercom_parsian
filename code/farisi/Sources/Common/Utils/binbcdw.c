
//=============================================================================
//                       Hypercom Inc
//                      (c) Copyright 2002
//=============================================================================
//
// Module overview:     binbcdw.c
//  The Function to Convert Word From Binary to BCD
//
//=============================================================================

#include "string.h"

#include "basictyp.h"

#include "bit8583.h"

//=============================================================================
// External variables / declarations
//=============================================================================


//=============================================================================
// Private defines and typedefs
//=============================================================================


//=============================================================================
// Private function declarations
//=============================================================================



//=============================================================================
// Public data definitions
//=============================================================================



//=============================================================================
// Private data definitions
//=============================================================================



//=============================================================================
// Public function definitions
//=============================================================================



//-----------------------------------------------------------------------------
//!  \brief     Convert Word From Binary to BCD
//!
//!  \param
//!     UWORD uwBIN     binary value to convert
//!
//!  \return
//!     UWORD   BCD number converted from binary
//!
//!
//-----------------------------------------------------------------------------

extern UWORD BinBcdW( UWORD uwBIN )
{
	union retword_
	{
		UWORD ret;
		UBYTE retval[2];

	} retword__;

	UBYTE tmp;

	// Calculate 100's part of binary word
	retword__.retval[0] = uwBIN / 100;

	// Calculate 10's part of word 
	retword__.retval[1] = uwBIN - ( retword__.retval[0] * 100 );
	tmp = ( ( retword__.retval[1] / 10 ) * 16 );
	retword__.retval[1] = ( retword__.retval[1] % 10 ) + tmp;

	return retword__.ret;
}

//=============================================================================
// Private function definitions
//=============================================================================
