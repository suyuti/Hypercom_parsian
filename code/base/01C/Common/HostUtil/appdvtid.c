//=============================================================================
//                       Hypercom Inc
//                      (c) Copyright 2001
//=============================================================================
//
// Module overview:             appdvtid.c
//      Appends Visa Terminal ID to the send data
//
//=============================================================================
#include "basictyp.h"

#include "defines.h"
#include "struct.h"
#include "appdata.h"

//=============================================================================
// External variables / declarations
//=============================================================================


//=============================================================================
// Private defines and typedefs
//=============================================================================


//=============================================================================
// Private function declarations
//=============================================================================


//=============================================================================
// Public data definitions
//=============================================================================


//=============================================================================
// Private data definitions
//=============================================================================


//=============================================================================
// Public function definitions
//=============================================================================

//-----------------------------------------------------------------------------
//! \brief
//!     Appends Visa Terminal ID to send data
//!
//! \return
//!     None.
//-----------------------------------------------------------------------------
extern void AppendVisaTID( void )
{
	UBYTE i;
	char Char;

	// Append the Visa Terminal ID from the Check Authorizer Acquirer
	// Table to the send data
	for ( i = 0; i < S_AQVISATID; i++ )
	{
		// Get a character from the Visa Terminal ID
		Char = TRREQ.TRAQPTR->AQVISATID[i];

		// Check if a space or a null
		if ( ( ' ' == Char ) || ( 0x00 == Char ) )
		{
			// Yes; quit moving the data
			break;
		}

		// Append the character to the send data
		*pSendBuffer = Char;

		// Increment the send data pointer
		pSendBuffer++;
	}
}



//=============================================================================
// Private function definitions
//=============================================================================

