
//=============================================================================
//                      Hypercom Inc
//                      (c) Copyright 2002
//=============================================================================
//
// Module overview:             V2tab.c
//      Visa 2 Table routines
//
//=============================================================================

#include "string.h"

#include "basictyp.h"
#include "sdk.h"
#include "sdkos.h"
#include "sdkio.h"

#include "defines.h"
#include "struct.h"
#include "comdata.h"
#include "utllib.h"

#include "V2tab.h"

//=============================================================================
// External variables / declarations
//=============================================================================


//=============================================================================
// Private defines and typedefs
//=============================================================================


//=============================================================================
// Private function declarations
//=============================================================================


//=============================================================================
// Public data definitions
//=============================================================================


//=============================================================================
// Private data definitions
//=============================================================================


//=============================================================================
// Public function definitions
//=============================================================================

//-----------------------------------------------------------------------------
//  SetV2TabLRC     Set the Checksum (LRC) for the Visa2 Table.
//
//  Parameters:     None.
//
//  Global Inputs:  V2TAB.
//
//  Returns:        Nothing.
//
//  Notes:          Updates V2LRC.
//
//-----------------------------------------------------------------------------

void SetV2TabLRC( void )
{
	V2LRC = CalcLrc( ( UBYTE * ) & V2TAB, V2SZE * V2MAX );
}

//-----------------------------------------------------------------------------
//  FindVisa2       Return Ptr to Visa 2 Table for The acq ID given
//
//  Parameters:     UBYTE acq_id    acq id to match.
//
//  Global Inputs:
//
//  Returns:        struct v2_rec * Visa2 pointer or NULL if does not exist.
//
//  Notes:
//
//-----------------------------------------------------------------------------

struct v2_rec *FindVisa2( UBYTE acq_id )
{
	UBYTE i;

	for ( i = 0; i < V2MAX; i++ )
	{
		if ( V2TAB[i].V2AQID == acq_id )
		{
			return ( struct v2_rec * ) &V2TAB[i];
		}
	}
	return ( ( struct v2_rec * ) NULL );
}


//=============================================================================
// Private function definitions
//=============================================================================
